{"ast":null,"code":"var _jsxFileName = \"D:\\\\project_freebie\\\\working\\\\frontend\\\\src\\\\components\\\\Maincomponent.js\";\nimport React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\nimport DataContext from '../context/DataContext';\nimport { useEffect } from 'react';\nexport default function Maincomponent({\n  item\n}) {\n  //const [divs, setDivs] = useState([]);\n  const {\n    datatext,\n    setDatatext\n  } = useContext(DataContext);\n  //const [counter, setCounter] = useState(0);\n  const filteredItems = datatext.filter(div => div.optionval === item.type);\n  const [publicItems, setPublicItems] = useState([]);\n  useEffect(() => {\n    const fetchPublicItems = async () => {\n      try {\n        const res = await axios.get('htpp://localhost:5000/api/publicItems');\n        setPublicItems(res);\n      } catch (err) {\n        console.error(\"Failed to fetch public items:\", err);\n      }\n    };\n    fetchPublicItems();\n  }, []);\n  useEffect(() => {\n    return () => {\n      filteredItems.forEach(item => {\n        if (item.preview) URL.revokeObjectURL(item.preview);\n      });\n    };\n  }, [filteredItems]);\n  const handleOnClick = id => {\n    console.log(\"id of the divs\");\n    console.log(id);\n    setDatatext(prevDatatext => prevDatatext.map(div => div.id === id ? {\n      ...div,\n      count: div.count + 1\n    } : div));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"component\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, filteredItems.map(div => /*#__PURE__*/React.createElement(\"div\", {\n    key: div.id,\n    className: `cont-data ${div.id % 2 === 0 ? 'even' : 'odd'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, !div.hidden && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"photo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, div.preview && /*#__PURE__*/React.createElement(\"img\", {\n    src: div.preview,\n    alt: \"Uploaded\",\n    style: {\n      width: '100%',\n      height: '100%',\n      borderRadius: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"u_name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 12\n    }\n  }, \"mamatha_garlapally\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }\n  }, div.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contno\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 12\n    }\n  }, div.contactno), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleOnClick(div.id),\n    className: \"like-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"white-heart\",\n    icon: faHeart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), \" \", div.count))))))));\n}\n;","map":{"version":3,"names":["React","useContext","useState","axios","FontAwesomeIcon","faHeart","DataContext","useEffect","Maincomponent","item","datatext","setDatatext","filteredItems","filter","div","optionval","type","publicItems","setPublicItems","fetchPublicItems","res","get","err","console","error","forEach","preview","URL","revokeObjectURL","handleOnClick","id","log","prevDatatext","map","count","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","key","className","hidden","src","alt","style","width","height","borderRadius","description","contactno","onClick","icon"],"sources":["D:/project_freebie/working/frontend/src/components/Maincomponent.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\r\nimport DataContext from '../context/DataContext';\r\nimport { useEffect } from 'react';\r\n\r\n\r\n\r\nexport default function Maincomponent({item}) {\r\n  //const [divs, setDivs] = useState([]);\r\n  const { datatext, setDatatext } = useContext(DataContext);\r\n  //const [counter, setCounter] = useState(0);\r\n  const filteredItems = datatext.filter(div => div.optionval === item.type);\r\n  const [publicItems, setPublicItems] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    const fetchPublicItems = async()=>{\r\n      try{\r\n        const res = await axios.get('htpp://localhost:5000/api/publicItems');\r\n        setPublicItems(res); \r\n      }catch (err) {\r\n        console.error(\"Failed to fetch public items:\", err);\r\n      }\r\n    }\r\n    fetchPublicItems();\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    return ()=>{\r\n      filteredItems.forEach(item => {\r\n      if (item.preview) URL.revokeObjectURL(item.preview);\r\n    });\r\n    }\r\n  } ,[filteredItems]);\r\n\r\n  const handleOnClick = (id) => {\r\n    console.log(\"id of the divs\")\r\n    console.log(id);\r\n    setDatatext((prevDatatext) =>\r\n      prevDatatext.map((div) =>\r\n        div.id === id ? { ...div, count: (div.count + 1) } : div\r\n      )\r\n    );\r\n  };\r\n  \r\n \r\n  return (\r\n    <>\r\n    <div>\r\n    <div id = \"component\">\r\n      {filteredItems.map((div)=>(\r\n        \r\n        <div key={div.id} className={`cont-data ${div.id % 2 === 0 ? 'even': 'odd'}`}>\r\n          {!div.hidden && (<div className = \"content\">\r\n        <div className='photo' >\r\n              {div.preview && (\r\n        <img\r\n          src={div.preview}\r\n          alt=\"Uploaded\"\r\n          style={{ width: '100%', height: '100%', borderRadius: '10px' }}\r\n        />\r\n      )}\r\n          </div> \r\n        <div className='text'> \r\n           <div className = 'u_name'>mamatha_garlapally</div> \r\n           <div className='desc'>{div.description}</div>\r\n           <div className = 'contno'>{div.contactno}\r\n           </div>\r\n          <br></br>\r\n           <button onClick = {()=>handleOnClick(div.id)} className=\"like-button\">\r\n                    < FontAwesomeIcon className='white-heart' icon={faHeart} /> {div.count}\r\n           </button>\r\n        </div>\r\n      </div>\r\n          )}</div>\r\n      ))}\r\n    </div> \r\n    </div> \r\n    </>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}